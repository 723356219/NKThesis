% !TEX encoding = UTF-8 Unicode
% !TEX program = xelatex
% !BIB program = biber
% !TEX TS-program = xelatex
% !BIB TS-program = biber
%%
%%
%%
%%
%%
%%
%%  本模板可以使用以下两种方式编译:
%%
%%     1. PDFLaTeX
%%
%%     2. XeLaTeX [推荐]
%%
%%  注意：
%%    1. 在改变编译方式前应先删除 *.toc 和 *.aux 文件，
%%       因为不同编译方式产生的辅助文件格式可能并不相同。
%%
%%
\documentclass[12pt,openright]{book}


\usepackage{ifxetex}
\ifxetex
  \usepackage[bookmarksnumbered]{hyperref}
\else
  \usepackage[unicode,bookmarksnumbered]{hyperref}
\fi

\usepackage[emptydoublepage]{NKThesis}   % 中文
%\usepackage[emptydoublepage,English]{NKThesis} % 英文

\usepackage{amssymb}

\usepackage[backend = biber, style = gb7714-2015, defernumbers = true]{biblatex}
% 解决url不换行问题
% https://tex.stackexchange.com/questions/134191/line-breaks-of-long-urls-in-biblatex-bibliography
\defcounter{biburlnumpenalty}{3000}
\defcounter{biburlucpenalty}{6000}
\defcounter{biburllcpenalty}{9000}

% 绘图库
\usepackage{tikz,mathpazo,pgf}
\usetikzlibrary{shapes.geometric, 
				arrows,
				decorations.pathmorphing,
				backgrounds, 
				positioning, 
				fit,
				petri, 
				automata}
 % 流程图定义基本形状
\tikzstyle{startstop} = [rectangle, rounded corners, minimum width=3cm, minimum height=1cm,text centered, draw=black, fill=red!30]
\tikzstyle{io} = [trapezium, trapezium left angle=70, trapezium right angle=110, minimum width=3cm, minimum height=1cm, text centered, draw=black, fill=blue!30]
\tikzstyle{process} = [rectangle, minimum width=3cm, minimum height=1cm, text centered, draw=black, fill=orange!30]
\tikzstyle{decision} = [diamond, minimum width=3cm, minimum height=1cm, text centered, draw=black, fill=green!30]
\tikzstyle{arrow} = [thick,->,>=stealth]


\addbibresource{nkthesis.bib}
\DeclareBibliographyCategory{cited}
\AtEveryCitekey{\addtocategory{cited}{\thefield{entrykey}}}

\graphicspath{{image/}}

\includeonly{
abstract,
manual,
tikz,
acknowledgements,
references,
appendices,
resume
}
\newtheorem{Theorem}{\hskip 2em 定理}[chapter]
\newtheorem{Lemma}[Theorem]{\hskip 2em 引理}
\newtheorem{Corollary}[Theorem]{\hskip 2em 推论}
\newtheorem{Proposition}[Theorem]{\hskip 2em 命题}
\newtheorem{Definition}[Theorem]{\hskip 2em 定义}
\newtheorem{Example}[Theorem]{\hskip 2em 例}

\begin{document}

%  设置基本信息
%  注意:  逗号`,'是项目分隔符. 如果某一项的值出现逗号, 应放在花括号内, 如 {,}
%
\NKTsetup{%
	论文题目(中文) = 学位论文的标题,
	副标题        = ——论文的副标题,
	论文题目(英文) = Title of this Thesis in English,
	论文作者       = ,
	学号          = ,
	指导教师       = ,
	指导教师职称    = ,
	申请学位       = ,
	培养单位       = ,
	学科专业       = ,
	研究方向       = ,
	中图分类号     = ,
	UDC          = ,
	学校代码      = 10055,
	密级          = 公开,
	% 公开 | 限制 | 秘密 | 机密, 若为公开, 不填以下三项
	非公开论文编号 = ,
	保密期限       = ,
	审批表编号     = ,
	批准日期       = ,
	论文完成时间    = 二〇一八年三月,
	答辩日期       = ,
	论文类别       = 学历硕士,
	% 博士 | 学历硕士 | 硕士专业学位 | 高校教师 | 同等学力硕士
	院/系/所       = ,
	专业           = ,
	联系电话        = ,
	Email          = ,
	通讯地址(邮编)  = ,
	备注           = 
	}


\input{./tex/abstract}
\tableofcontents
\input{./tex/manual}
\input{./tex/tikz}
\input{./tex/references}
\input{./tex/acknowledgements}
\input{./tex/appendices}
\input{./tex/resume}
\end{document}
